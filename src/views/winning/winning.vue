<template>
  <div class="w-screen h-screen bg-[#F4EFE7] flex flex-col">
    <!-- 顶部标题 -->
    <div class="pt-6 flex justify-center px-32">
      <Title />
    </div>

    <!-- 奖品卡片区域 -->
    <div class="flex-1 flex items-center justify-center px-14">
      <svg width="293" height="490" viewBox="0 0 293 490" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M289.003 17.9297H3.99879C2.08912 17.9297 0.541016 19.4784 0.541016 21.3888V465.691C0.541016 467.602 2.08912 469.151 3.99879 469.151H289.003C290.912 469.151 292.46 467.602 292.46 465.691V21.3888C292.46 19.4784 290.912 17.9297 289.003 17.9297Z"
          fill="#DDCAB5" />
        <path
          d="M233.512 455.234H59.4853C57.1937 455.234 55.3359 457.093 55.3359 459.385V485.588C55.3359 487.881 57.1937 489.739 59.4853 489.739H233.512C235.803 489.739 237.661 487.881 237.661 485.588V459.385C237.661 457.093 235.803 455.234 233.512 455.234Z"
          fill="#50744E" />
        <path
          d="M120.739 467.893L120.919 467.837L121.583 468.232C119.992 472.594 116.23 475.496 112.593 476.779C112.45 476.427 112.254 476.1 112.012 475.807C115.469 474.721 119.155 471.885 120.546 468.09V467.893H120.739ZM117.714 466.63C116.552 468.798 114.857 470.635 112.79 471.968C112.597 471.656 112.358 471.375 112.081 471.134C113.99 470.004 115.547 468.364 116.576 466.398L117.714 466.63ZM115.068 469.781C116.166 470.573 117.157 471.504 118.018 472.549L117.205 473.317C116.371 472.247 115.402 471.29 114.322 470.47L115.068 469.781ZM122.9 473.586V474.583H116.915V479.74H115.898V474.444L116.7 473.586H122.9ZM120.881 467.889V468.868H115.999V467.889H120.881ZM122.88 478.159V479.156H116.458V478.159H122.88ZM123.419 473.586V479.764H122.382V473.586H123.419Z"
          fill="white" />
        <path
          d="M129.184 471.239C128.668 473.259 127.645 475.781 126.673 477.119C126.537 476.795 126.369 476.484 126.172 476.192C127.102 475.034 128.122 472.789 128.592 471.004L129.184 471.239ZM131.172 470.585V471.602H126.459V470.585H131.172ZM131.172 467.417C129.781 467.97 128.329 468.351 126.846 468.551C126.78 468.266 126.686 467.988 126.566 467.721C127.941 467.492 129.285 467.104 130.57 466.566L131.172 467.417ZM129.443 467.569V479.755H128.516V467.569H129.443ZM131.172 474.245L130.587 475.106C130.095 474.212 129.547 473.35 128.945 472.526L129.381 472.083C129.73 472.425 130.923 473.875 131.186 474.245H131.172ZM133.489 472.259C133.122 474.231 132.524 476.158 131.76 477.413C131.505 477.204 131.232 477.017 130.944 476.856C131.711 475.687 132.24 473.882 132.541 472.073L133.489 472.259ZM133.776 466.673C133.374 468.828 132.69 470.907 131.832 472.256C131.563 472.044 131.278 471.854 130.978 471.689C131.867 470.423 132.479 468.468 132.821 466.469L133.776 466.673ZM137.849 468.364V469.378H132.496L132.818 468.364H137.849ZM135.428 469.101V478.403C135.428 479.018 135.307 479.319 134.944 479.496C134.581 479.672 134.004 479.686 133.174 479.686C133.1 479.328 132.983 478.98 132.828 478.648C133.451 478.669 134.038 478.669 134.211 478.648C134.384 478.628 134.439 478.59 134.439 478.392V469.087L135.428 469.101ZM137.033 471.938C137.651 473.563 138.114 475.244 138.416 476.957L137.489 477.268C137.199 475.548 136.753 473.858 136.158 472.218L137.033 471.938ZM137.724 468.364L137.87 468.309L138.516 468.513C138.195 469.402 137.793 470.388 137.434 471.215L136.549 470.976C136.939 470.163 137.379 469.101 137.586 468.492V468.364H137.724Z"
          fill="white" />
        <path
          d="M144.391 470.034C143.466 471.77 142.249 473.335 140.795 474.659C140.641 474.293 140.459 473.939 140.252 473.601C141.588 472.521 142.69 471.18 143.492 469.661L144.391 470.034ZM144.218 466.869C143.35 468.203 142.254 469.374 140.982 470.328C140.833 470.017 140.658 469.718 140.459 469.436C141.583 468.636 142.541 467.625 143.281 466.461L144.218 466.869ZM143.267 471.186L143.302 471.21V479.72H142.344V472.21L143.267 471.186ZM152.603 468.318V469.342H143.928V468.343L152.603 468.318ZM152.627 473.742V474.746H144.087V473.742H152.627ZM151.984 471.131V472.124H144.481V471.131H151.984ZM145.981 475.199C146.621 475.969 147.193 476.791 147.693 477.658L146.815 478.215C146.354 477.315 145.801 476.465 145.165 475.679L145.981 475.199ZM150.76 472.559V478.461C150.76 479.094 150.625 479.398 150.186 479.568C149.747 479.737 149.045 479.737 147.963 479.727C147.887 479.369 147.771 479.021 147.617 478.689C148.461 478.723 149.225 478.723 149.45 478.71C149.674 478.696 149.737 478.637 149.737 478.433V472.552L150.76 472.559ZM148.813 466.509V471.674H147.804V466.509H148.813Z"
          fill="white" />
        <path
          d="M157.363 467.809C156.945 470.867 156.236 473.689 155.009 475.582C154.831 475.248 154.621 474.933 154.383 474.641C155.486 472.991 156.067 470.396 156.399 467.66L157.363 467.809ZM159.663 467.238V468.231H154.67V467.238H159.663ZM156.585 471.548V478.965H155.686V471.548H156.585ZM159.206 471.548V477.74H156.129V476.765H158.297V472.513H156.129V471.548H159.206ZM161.15 470.137V473.966C161.15 475.775 160.911 478.193 159.49 479.784C159.29 479.517 159.048 479.283 158.774 479.093C160.071 477.643 160.22 475.585 160.22 473.966V470.14L161.15 470.137ZM162.616 466.678C162.049 468.466 161.146 470.129 159.957 471.579C159.728 471.319 159.478 471.077 159.21 470.856C160.353 469.579 161.198 468.065 161.686 466.422L162.616 466.678ZM165.894 475.198V476.152H160.707V475.229L165.894 475.198ZM165.894 470.123V471.078H160.759V470.14L165.894 470.123ZM165.894 472.638V473.51H160.759V472.638H165.894ZM164.386 467.639V468.549H161.274L161.693 467.639H164.386ZM163.695 470.562V475.613H162.813V470.562H163.695ZM164.296 467.639L164.445 467.588L165.102 468.061C164.684 468.99 164.176 469.876 163.584 470.704C163.365 470.531 163.134 470.373 162.892 470.234C163.382 469.486 163.78 468.683 164.078 467.84V467.639H164.296ZM166.371 470.123V478.487C166.371 479.089 166.257 479.407 165.88 479.57C165.503 479.733 164.877 479.764 163.95 479.764C163.895 479.406 163.793 479.057 163.646 478.726C164.338 478.754 164.981 478.754 165.168 478.747C165.354 478.74 165.413 478.674 165.413 478.477V470.12L166.371 470.123Z"
          fill="white" />
        <path
          d="M171.689 470.978V472.015H168.781V470.978H171.689ZM170.725 466.713C171.388 467.339 172.308 468.224 172.754 468.76L172.063 469.549C171.627 468.996 170.725 468.055 170.057 467.391L170.725 466.713ZM170.299 478.37C170.517 478.209 170.696 478.001 170.823 477.761C170.95 477.522 171.021 477.257 171.032 476.986V470.981H172.004V477.778C172.004 477.778 170.852 478.743 170.852 479.162C170.709 478.872 170.522 478.605 170.299 478.37ZM170.673 478.152L170.96 477.695L173.65 475.741C173.727 476.05 173.828 476.353 173.951 476.647C171.395 478.584 171.046 478.892 170.839 479.165L170.673 478.152ZM177.471 466.453C177.44 471.642 177.384 476.979 173.885 479.75C173.674 479.453 173.413 479.196 173.114 478.989C176.492 476.426 176.433 471.351 176.458 466.453H177.471ZM181.07 478.93C180.784 479.154 180.535 479.423 180.334 479.726C177.284 477.491 176.71 472.462 176.458 470.947L177.346 470.857C177.526 472.181 178.114 476.872 181.07 478.93Z"
          fill="white" />
        <path
          d="M196.779 0.679688H96.2196C93.928 0.679688 92.0703 2.53813 92.0703 4.83063V31.0334C92.0703 33.3259 93.928 35.1844 96.2196 35.1844H196.779C199.07 35.1844 200.928 33.3259 200.928 31.0334V4.83063C200.928 2.53813 199.07 0.679688 196.779 0.679688Z"
          fill="#9C7D5E" />
        <path
          d="M139.934 13.0857C139.733 15.009 139.405 16.9288 138.896 18.1913C138.654 18.0569 138.402 17.9412 138.143 17.8454C138.665 16.6175 138.955 14.7565 139.121 12.9439L139.934 13.0857ZM142.983 18.9662L143.087 19.9693C141.545 20.4259 139.903 20.8929 138.658 21.2354L138.385 20.1457C139.543 19.8621 141.293 19.409 142.983 18.9662ZM142.983 14.874V15.9118H139.024L139.218 14.874H142.983ZM141.635 11.9096V25.1926H140.66V11.8958L141.635 11.9096ZM150.476 19.0596V20.0731H143.347V19.0596H150.476ZM150.193 13.4489V14.4693H143.495V13.4662L150.193 13.4489ZM149.809 16.2819V17.3196H144.055V16.2819H149.809ZM144.944 20.5055C145.592 21.217 146.171 21.9884 146.673 22.8093L145.86 23.3627C145.387 22.5162 144.828 21.72 144.194 20.9863L144.944 20.5055ZM148.945 17.6967V23.8366C148.945 24.4662 148.827 24.7775 148.409 24.9539C147.99 25.1303 147.344 25.1373 146.393 25.1373C146.317 24.7661 146.201 24.4042 146.047 24.058C146.797 24.0857 147.482 24.0857 147.693 24.0788C147.904 24.0719 147.945 24.0165 147.945 23.8193V17.6967H148.945ZM147.295 11.875V16.8285H146.327V11.875H147.295Z"
          fill="white" />
        <path
          d="M155.411 12.0493C154.896 13.3656 154.139 14.5731 153.177 15.6087C152.96 15.3468 152.721 15.1028 152.465 14.8788C153.379 14.008 154.088 12.9445 154.54 11.7656L155.411 12.0493ZM164.467 20.6625V21.5861H152.665V20.6625H164.467ZM163.962 16.2002V17.1445H153.174V16.2002H163.962ZM163.208 18.4348V19.3134H153.844V18.4348H163.208ZM158.478 12.9002V13.8549H154.211V12.9002H158.478ZM155.587 21.6933C156.396 22.3623 157.163 23.0809 157.883 23.8449L157.154 24.5021C156.447 23.7096 155.688 22.9654 154.882 22.2744L155.587 21.6933ZM155.822 13.7166C156.334 14.1633 156.811 14.6477 157.25 15.1659L156.593 15.799C156.175 15.2525 155.712 14.7411 155.21 14.27L155.822 13.7166ZM159.059 15.2801V18.9675H158.021V15.3009L159.059 15.2801ZM160.992 11.9974C160.634 13.3157 160.013 14.5478 159.166 15.6191C158.936 15.3913 158.69 15.1809 158.43 14.9895C159.23 14.0677 159.797 12.9666 160.082 11.7795L160.992 11.9974ZM161.79 19.6593V24.0628C161.79 24.6785 161.656 24.9379 161.196 25.0659C160.736 25.1939 159.975 25.2043 158.813 25.2043C158.754 24.8901 158.659 24.5837 158.53 24.2911C159.425 24.3361 160.259 24.3257 160.473 24.3118C160.687 24.298 160.77 24.2357 160.77 24.0317V19.6593H161.79ZM164.709 12.9383V13.8895H159.813V12.9383H164.709ZM161.697 13.8273C162.174 14.2866 162.61 14.7866 163.001 15.3216L162.309 15.9615C161.931 15.3989 161.506 14.87 161.037 14.3807L161.697 13.8273Z"
          fill="white" />
        <path
          d="M173.297 18.9695C172.879 22.183 171.852 24.3 167.111 25.1959C167.003 24.867 166.84 24.5592 166.627 24.2862C171.091 23.5148 171.893 21.7091 172.246 18.973L173.297 18.9695ZM170.036 15.4135L170.296 16.2818C169.206 16.9286 168.034 17.6066 167.111 18.129L166.679 17.1846C167.512 16.7834 168.802 16.1019 170.029 15.417L170.036 15.4135ZM178.553 20.0764V21.045H166.848V20.0764H178.553ZM167.806 12.6462C168.33 13.3273 168.76 14.0753 169.085 14.8705L168.266 15.3686C167.957 14.5516 167.54 13.7792 167.028 13.0717L167.806 12.6462ZM170.735 11.8818V18.9868H169.774V11.8818H170.735ZM177.879 13.1132L178.058 13.0786L178.65 13.3934C177.581 16.8941 174.915 18.3192 171.613 18.9557C171.479 18.631 171.3 18.3269 171.081 18.0528C174.276 17.5478 176.769 16.3026 177.65 13.2931V13.1132H177.879ZM174.974 12.1793C174.262 13.5724 173.187 14.7473 171.862 15.5796C171.686 15.2962 171.482 15.0309 171.253 14.7874C172.437 14.0952 173.392 13.072 174.002 11.8438L174.974 12.1793ZM178.864 24.134C178.61 24.4206 178.405 24.7465 178.255 25.0991C175.309 24.6252 173.435 23.3972 172.484 20.9758L173.383 20.7544C174.186 22.7745 176.063 23.8123 178.864 24.134ZM173.646 14.7944C174.355 15.4004 174.994 16.0838 175.551 16.8318L174.78 17.3714C174.241 16.6012 173.611 15.8975 172.906 15.2752L173.646 14.7944ZM177.841 13.1098V14.0403H173.522V13.1098H177.841Z"
          fill="white" />
        <mask id="mask0_0_1" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="114" y="10" width="17"
          height="18">
          <path d="M130.922 10.2734H114.297V27.5137H130.922V10.2734Z" fill="white" />
        </mask>
        <g mask="url(#mask0_0_1)">
          <path d="M122.205 23.1641H123.294V27.149H122.205V23.1641Z" fill="white" />
          <path
            d="M125.832 27.5128H120.047C119.998 27.5153 119.95 27.5076 119.905 27.4902C119.86 27.4728 119.819 27.4461 119.784 27.4119C119.75 27.3777 119.724 27.3366 119.706 27.2914C119.689 27.2463 119.681 27.1979 119.684 27.1496V26.8037C119.681 26.7553 119.689 26.707 119.706 26.6618C119.724 26.6166 119.75 26.5755 119.784 26.5413C119.819 26.5071 119.86 26.4804 119.905 26.463C119.95 26.4456 119.998 26.4379 120.047 26.4404H125.849C125.896 26.4404 125.942 26.4499 125.985 26.4683C126.028 26.4868 126.067 26.5138 126.1 26.5478C126.132 26.5818 126.157 26.622 126.173 26.666C126.19 26.7099 126.197 26.7568 126.195 26.8037V27.1496C126.197 27.1964 126.19 27.2433 126.173 27.2872C126.157 27.3312 126.132 27.3714 126.1 27.4054C126.067 27.4394 126.028 27.4664 125.985 27.4849C125.942 27.5033 125.896 27.5128 125.849 27.5128H125.832ZM117.415 20.0826C116.999 20.0758 116.589 19.987 116.207 19.8213C115.825 19.6555 115.48 19.416 115.191 19.1165C114.902 18.8171 114.674 18.4635 114.522 18.076C114.37 17.6886 114.296 17.2749 114.303 16.8587V13.6694C114.302 13.5501 114.325 13.4317 114.37 13.3213C114.415 13.2108 114.482 13.1104 114.566 13.026C114.738 12.8576 114.969 12.7632 115.209 12.7631H117.284V13.8527H115.361V16.8933C115.351 17.4455 115.559 17.9795 115.939 18.3797C116.32 18.7798 116.843 19.0138 117.395 19.031V20.0687L117.415 20.0826ZM127.789 20.0826V18.9964C128.063 18.9906 128.333 18.9306 128.583 18.8197C128.834 18.7089 129.06 18.5495 129.249 18.3508C129.438 18.152 129.585 17.9178 129.683 17.6617C129.781 17.4056 129.827 17.1327 129.818 16.8587V13.8147H127.934V12.7423H130.009C130.128 12.7401 130.247 12.7623 130.357 12.8075C130.468 12.8527 130.568 12.92 130.652 13.0052C130.736 13.0894 130.803 13.1898 130.848 13.3003C130.893 13.4108 130.916 13.5293 130.914 13.6486V16.8725C130.924 17.7113 130.602 18.52 130.02 19.1235C129.437 19.7269 128.641 20.0765 127.802 20.0964L127.789 20.0826ZM124.196 19.3147C124.056 19.3134 123.92 19.2765 123.798 19.2074L122.675 18.6228L121.516 19.2386C121.366 19.313 121.195 19.3357 121.031 19.3032C120.867 19.2707 120.717 19.1847 120.607 19.0587C120.53 18.9706 120.476 18.8644 120.452 18.7501C120.427 18.6357 120.431 18.517 120.465 18.4049L120.679 17.1735L119.884 16.3398C119.773 16.2441 119.692 16.1172 119.653 15.9754C119.615 15.8336 119.619 15.6834 119.666 15.5442C119.711 15.4103 119.792 15.2917 119.901 15.2018C120.01 15.1119 120.142 15.0544 120.282 15.0357L121.444 14.8559L121.986 13.7316C122.048 13.6003 122.146 13.4893 122.268 13.4115C122.391 13.3337 122.533 13.2924 122.678 13.2924C122.823 13.2924 122.965 13.3337 123.088 13.4115C123.21 13.4893 123.308 13.6003 123.37 13.7316L123.912 14.8559L125.074 15.0357C125.214 15.0551 125.345 15.113 125.454 15.2027C125.563 15.2925 125.644 15.4107 125.69 15.5442C125.728 15.6788 125.727 15.8212 125.689 15.9556C125.65 16.09 125.575 16.211 125.472 16.3052L124.677 17.1735L124.891 18.443C124.91 18.5579 124.903 18.6755 124.872 18.7878C124.841 18.9 124.786 19.0042 124.711 19.0933C124.649 19.1686 124.57 19.228 124.48 19.2665C124.391 19.305 124.293 19.3215 124.196 19.3147ZM122.671 17.8653C122.76 17.8733 122.847 17.8979 122.927 17.9379L124.161 18.5917C124.171 18.5917 124.179 18.5953 124.186 18.6018C124.192 18.6083 124.196 18.6171 124.196 18.6263V18.5917L123.944 17.2496C123.933 17.1653 123.94 17.0797 123.965 16.9985C123.99 16.9173 124.032 16.8425 124.089 16.7791L124.957 15.8383L124.995 15.8002H124.957L123.726 15.5477C123.641 15.5327 123.561 15.4988 123.492 15.4485C123.422 15.3982 123.365 15.3328 123.325 15.2571L122.709 14.0603C122.709 14.0257 122.671 14.0257 122.671 14.0257L122.637 14.0603L122.021 15.2571C121.981 15.3328 121.923 15.3982 121.854 15.4485C121.784 15.4988 121.704 15.5327 121.62 15.5477L120.386 15.7276C120.351 15.7276 120.351 15.7276 120.351 15.7656L120.386 15.8002L121.257 16.7445C121.365 16.8764 121.417 17.0452 121.402 17.215L121.184 18.5191V18.5917H121.222L122.457 17.976C122.48 17.9411 122.512 17.9127 122.55 17.8934C122.587 17.874 122.629 17.8644 122.671 17.8653Z"
            fill="white" />
        </g>
      </svg>

    </div>


    <div
      class="pb-10 flex justify-center px-36"
      role="button"
      tabindex="0"
      @click="openDialog"
      @keydown.enter.prevent="openDialog"
      @keydown.space.prevent="openDialog"
    >
      <svg id="_鍥惧眰_1" data-name="鍥惧眰 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 341.15 83.29">
        <g>
          <path
            d="M106.02,30.73l2.07.47c-.36,2.26-.81,4.46-1.35,6.61-.55,2.15-1.19,4.15-1.94,6.01-.75,1.86-1.61,3.51-2.59,4.95-.07-.22-.16-.48-.29-.79-.12-.31-.26-.63-.42-.95-.16-.32-.3-.58-.43-.77,1.27-1.87,2.31-4.16,3.11-6.88s1.42-5.59,1.84-8.64ZM101.78,29.69h11.17v2.2h-11.17v-2.2ZM103.98,40.74h1.97v18.32h-1.97v-18.32ZM104.82,40.74h7.02v15.37h-7.02v-2.16h5.08v-11.02h-5.08v-2.2ZM114.71,36.89h2.07v9.68c0,1.1-.05,2.28-.15,3.53-.1,1.25-.29,2.5-.57,3.76-.28,1.26-.69,2.48-1.22,3.65-.54,1.18-1.24,2.26-2.11,3.24-.11-.17-.27-.34-.48-.5-.21-.17-.43-.34-.65-.5s-.42-.29-.6-.36c1.11-1.22,1.93-2.57,2.44-4.03.51-1.46.85-2.96,1.02-4.48.17-1.52.25-2.96.25-4.3v-9.68ZM118.42,27.56l2.01.58c-.85,2.5-1.93,4.87-3.24,7.11s-2.73,4.15-4.25,5.71c-.09-.17-.22-.36-.38-.58-.17-.22-.34-.44-.52-.68-.18-.24-.35-.42-.5-.54,1.45-1.42,2.77-3.14,3.98-5.17,1.2-2.03,2.17-4.17,2.91-6.43ZM116.05,49.74h13.61v2.12h-13.61v-2.12ZM116.22,36.89h13.37v2.09h-13.37v-2.09ZM116.22,43.19h13.37v1.98h-13.37v-1.98ZM118.32,30.7h7.69v2.05h-8.62l.94-2.05ZM121.47,38h2.01v21.46h-2.01v-21.46ZM125.44,30.7h.5l.37-.11,1.44,1.04c-.38.77-.82,1.55-1.32,2.36-.5.8-1.02,1.57-1.55,2.3-.53.73-1.05,1.37-1.54,1.93-.2-.17-.45-.35-.73-.56-.29-.2-.55-.38-.77-.52.45-.5.9-1.11,1.35-1.82s.89-1.43,1.29-2.16c.4-.73.72-1.4.97-2v-.47ZM128.59,36.89h2.17v20.77c0,.62-.08,1.12-.23,1.49-.16.37-.43.65-.84.85-.4.19-.96.31-1.69.34-.72.04-1.61.05-2.66.05-.04-.31-.12-.68-.23-1.1s-.23-.79-.37-1.1c.76.02,1.45.04,2.09.05.63.01,1.04,0,1.22-.02.36,0,.53-.19.53-.58v-20.77Z" />
          <path
            d="M138.21,39.05h7.19v2.3h-7.19v-2.3ZM141.49,29.9l1.54-1.48c.56.5,1.15,1.07,1.79,1.69s1.24,1.23,1.82,1.82c.58.59,1.05,1.1,1.4,1.53l-1.57,1.76c-.36-.46-.82-1-1.39-1.62-.57-.62-1.17-1.26-1.8-1.91-.63-.65-1.23-1.25-1.79-1.8ZM143.43,59.1c-.07-.17-.18-.37-.33-.59-.16-.23-.31-.45-.47-.67-.16-.22-.31-.38-.47-.5.33-.26.72-.68,1.15-1.26.44-.58.65-1.28.65-2.12v-14.9h2.17v16.81c-.36.31-.67.6-.94.86-.27.26-.53.54-.8.83s-.5.57-.68.85c-.19.28-.29.51-.29.7ZM143.43,59.1l-.37-2.27.7-1.08,6.72-4.82c.07.31.17.67.32,1.06.14.4.26.71.35.95-1.61,1.2-2.89,2.17-3.86,2.9-.97.73-1.71,1.31-2.22,1.73-.51.42-.89.74-1.12.95-.23.22-.41.41-.52.58ZM157.53,27.71h2.24c0,2.57-.04,5.14-.12,7.7-.08,2.57-.26,5.08-.54,7.52-.28,2.45-.74,4.76-1.37,6.95-.63,2.18-1.51,4.2-2.62,6.05-1.11,1.85-2.54,3.44-4.28,4.79-.18-.29-.44-.59-.77-.9-.33-.31-.66-.56-.97-.76,1.69-1.27,3.07-2.77,4.14-4.5,1.07-1.73,1.89-3.64,2.47-5.72.58-2.09.99-4.29,1.24-6.61.24-2.32.39-4.7.45-7.16.05-2.46.09-4.91.12-7.36ZM159.47,38.8c.09.67.24,1.62.45,2.84.21,1.22.52,2.62.94,4.18.41,1.56.96,3.15,1.66,4.77.69,1.62,1.56,3.16,2.61,4.61,1.05,1.45,2.31,2.68,3.78,3.69-.29.24-.59.52-.9.83-.31.31-.57.62-.77.94-1.52-1.1-2.81-2.43-3.88-3.98-1.07-1.55-1.96-3.19-2.66-4.93s-1.27-3.44-1.69-5.11c-.42-1.67-.75-3.17-.99-4.52-.23-1.34-.42-2.38-.55-3.1l2-.22Z" />
          <path
            d="M182.3,27.67l1.97.58c-.87,2.38-2,4.71-3.38,7s-2.96,4.29-4.75,5.99c-.11-.12-.26-.28-.45-.47-.19-.19-.38-.38-.57-.56-.19-.18-.37-.33-.55-.45,1.14-1.03,2.2-2.22,3.19-3.56.99-1.34,1.88-2.75,2.66-4.23.78-1.48,1.4-2.91,1.87-4.3ZM176.72,44.12h10.33v2.16h-10.33v-2.16ZM177.36,52.44l1.47-1.22c.85.77,1.73,1.61,2.66,2.52s1.79,1.82,2.59,2.72c.8.9,1.45,1.7,1.94,2.39l-1.64,1.48c-.47-.72-1.09-1.54-1.87-2.47-.78-.92-1.62-1.86-2.52-2.81-.9-.95-1.78-1.82-2.62-2.61ZM180.3,38.08l1.47-.94c.65.65,1.28,1.36,1.91,2.14s1.1,1.45,1.44,2l-1.54,1.15c-.33-.6-.81-1.31-1.44-2.12-.62-.82-1.24-1.56-1.84-2.23ZM186.35,44.12h.33l.37-.14,1.44.97c-.49,1.25-1.09,2.57-1.8,3.96s-1.45,2.72-2.21,3.98c-.76,1.26-1.44,2.33-2.04,3.22-.2-.19-.46-.41-.79-.67-.32-.25-.61-.45-.85-.59.42-.58.9-1.28,1.42-2.12.52-.84,1.05-1.74,1.59-2.7s1.03-1.91,1.47-2.84c.45-.94.8-1.78,1.07-2.52v-.54ZM181.67,31.42l1.3-1.4c.85.84,1.72,1.78,2.62,2.81s1.74,2.03,2.52,2.99c.78.96,1.39,1.82,1.84,2.59l-1.37,1.69c-.47-.77-1.09-1.66-1.85-2.68-.77-1.02-1.59-2.05-2.47-3.1-.88-1.04-1.74-2.01-2.59-2.9ZM196.71,39.48h1.91c-.02,2.66-.09,5.03-.2,7.09s-.33,3.86-.67,5.4c-.33,1.54-.84,2.87-1.52,4-.68,1.13-1.58,2.08-2.71,2.86-1.12.78-2.55,1.45-4.26,2-.07-.26-.22-.56-.47-.9s-.47-.6-.67-.79c1.6-.5,2.93-1.1,3.98-1.8,1.05-.7,1.88-1.55,2.49-2.56s1.06-2.21,1.35-3.62c.29-1.4.48-3.07.58-4.99.1-1.92.16-4.15.18-6.7ZM190.33,29.76h14.77v2.16h-14.77v-2.16ZM191.2,35.84h12.87v16.92h-2.11v-15.01h-8.72v15.08h-2.04v-16.99ZM197.01,31.06l2,.54c-.31.96-.63,1.93-.97,2.9s-.66,1.82-.97,2.54l-1.77-.54c.29-.74.6-1.64.94-2.68s.59-1.96.77-2.75ZM197.68,54.42l1.37-1.3c.78.6,1.58,1.26,2.41,1.98.82.72,1.61,1.43,2.36,2.12.75.7,1.35,1.32,1.82,1.87l-1.4,1.51c-.47-.55-1.07-1.19-1.8-1.93s-1.52-1.47-2.36-2.21c-.84-.74-1.63-1.43-2.39-2.05Z" />
          <path
            d="M225.83,45.2h2.34c-.2,1.61-.5,3.1-.9,4.48-.4,1.38-.95,2.65-1.64,3.8-.69,1.15-1.6,2.19-2.72,3.11-1.13.92-2.52,1.73-4.18,2.41-1.66.68-3.66,1.25-6,1.71-.09-.29-.24-.64-.45-1.04-.21-.41-.43-.73-.65-.97,2.23-.38,4.12-.88,5.68-1.48,1.56-.6,2.85-1.31,3.88-2.12,1.02-.82,1.84-1.73,2.46-2.74.61-1.01,1.08-2.11,1.4-3.29.32-1.19.59-2.48.79-3.87ZM211.79,40.96c1.07-.5,2.36-1.15,3.86-1.94s3.05-1.61,4.63-2.45l.57,1.94c-1.38.79-2.78,1.59-4.2,2.39-1.41.8-2.7,1.53-3.86,2.18l-1-2.12ZM212.22,48.08h29.22v2.16h-29.22v-2.16ZM212.76,30.55l1.74-.94c.67.84,1.31,1.79,1.94,2.84.62,1.06,1.07,1.97,1.34,2.74l-1.87,1.12c-.25-.79-.67-1.73-1.27-2.81s-1.23-2.06-1.87-2.95ZM219.64,27.67h2.14v17.57h-2.14v-17.57ZM239.4,30.77h.47l.43-.11,1.3.72c-.89,2.9-2.2,5.27-3.93,7.11s-3.75,3.28-6.08,4.32c-2.33,1.04-4.88,1.83-7.64,2.36-.04-.19-.14-.41-.28-.67-.15-.25-.3-.5-.45-.76-.16-.25-.31-.45-.47-.59,2.67-.43,5.13-1.1,7.37-2.02,2.24-.91,4.16-2.17,5.75-3.78,1.59-1.61,2.77-3.67,3.53-6.19v-.4ZM230.17,27.6l2.17.72c-.76,1.63-1.83,3.2-3.21,4.72-1.38,1.51-2.86,2.75-4.45,3.71-.11-.17-.25-.36-.4-.58s-.32-.43-.5-.65c-.18-.22-.35-.4-.5-.54,1-.58,1.96-1.27,2.86-2.07s1.71-1.67,2.41-2.59c.7-.92,1.24-1.83,1.62-2.72ZM228.4,49.52c1.03,2.62,2.7,4.63,5.01,6.03,2.32,1.4,5.25,2.32,8.79,2.75-.18.17-.36.38-.54.65-.18.26-.34.52-.48.77-.15.25-.26.5-.35.74-2.45-.41-4.62-1.04-6.5-1.89s-3.48-1.98-4.8-3.38c-1.31-1.4-2.36-3.13-3.14-5.17l2.01-.5ZM227.4,35.95l1.67-1.08c.6.48,1.21,1.03,1.84,1.66.62.62,1.21,1.24,1.75,1.85.55.61.99,1.16,1.32,1.64l-1.74,1.22c-.31-.5-.73-1.07-1.25-1.69-.52-.62-1.1-1.25-1.72-1.87-.62-.62-1.25-1.2-1.87-1.73ZM228.9,30.77h10.9v2.09h-10.9v-2.09Z" />
        </g>
        <path
          d="M317.1,82.14c-82.75.29-167.26,1.94-250.14.69-7.85-.1-29.82-.25-37.52-.27-3.13-.05-6.34.15-9.45-.39-9.56-1.48-17.53-9.36-19.4-18.81-.76-3.63-.41-8.86-.51-12.57-.02-6.23-.05-18.78-.06-25.01C-.47,15.53,6.28,5.46,16.03,2.17c2.53-.96,5.23-1.32,7.92-1.41C57.3.47,90.65.25,124.01.17c61.46-.2,126.32-.33,187.6.27,4.22.05,8.62-.11,12.7,1.24,10.51,3.29,17.58,13.93,16.78,24.86-.02,3.95-.18,14.67-.21,18.76-.05,4.17-.09,8.34-.1,12.51.11,4.21-.95,8.45-2.95,12.15-4.09,7.44-12.25,12.26-20.73,12.19h0ZM317.1,81.84c8.32,0,16.34-4.8,20.28-12.14,1.92-3.65,2.92-7.76,2.77-11.9,0-4.17-.05-8.34-.1-12.51l-.14-12.51c-.1-3.59.15-8.87-.59-12.34-2.04-9.96-11.32-17.74-21.5-17.76-63.39.58-130.26.56-193.82.31-33.35-.09-66.7-.3-100.05-.59-2.51.06-5.04.35-7.42,1.22-5.28,1.75-9.79,5.58-12.52,10.44-1.93,3.57-2.97,7.6-2.87,11.72l-.03,12.51c-.02,4.13-.03,14.76-.05,18.76-.81,12.83,9.24,24.11,22.15,24.37,11.08.08,32.41-.17,43.76-.26,82.91-1.27,167.36.4,250.14.69h0Z" />
      </svg>
    </div>

    <!-- Dialog Modal -->
    <div
      v-if="showDialog"
      class="fixed inset-0 z-50 flex items-center justify-center"
      aria-modal="true"
      role="dialog"
      @click.self="closeDialog"
    >
      <!-- Overlay -->
      <div class="absolute inset-0 bg-black/50"></div>
      <!-- Panel (Redesigned) -->
      <div class="relative z-10 w-[90%] max-w-sm">
        <div class="relative rounded-2xl bg-[#E6D6C4] p-10 text-center shadow-xl">
          <!-- close button -->
          <button
            type="button"
            class="absolute right-2 top-2 rounded-md p-1 text-gray-500 hover:bg-black/5 hover:text-gray-700"
            aria-label="关闭"
            @click="closeDialog"
          >
            ✕
          </button>

          <!-- Step: QR code -->
          <template v-if="step === 'qrcode'">
            <div class="mx-auto inline-block rounded-lg bg-white p-3 shadow">
              <img
                class="h-40 w-40 object-contain"
                src="https://steppy-dev.oss-cn-guangzhou.aliyuncs.com/qrcode.png"
                alt="客服二维码"
              />
            </div>
            <div class="mt-4 space-y-1 text-sm leading-6 text-gray-800">
              <p>长按图片保存蹬愉管家二维码</p>
              <p>添加客服获取兑换奖品信息</p>
              <p>超过7天不领视为自动放弃奖品</p>
            </div>
            <button
              type="button"
              class="absolute left-1/2 -bottom-4 -translate-x-1/2 rounded-md bg-[#50744E] px-6 py-2 text-white shadow cursor-pointer"
              @click="toForm"
            >
              已添加
            </button>
          </template>

          <!-- Step: Form -->
          <template v-else>
            <div class="text-center text-[15px] font-semibold text-black">
              <p>请仔细填写收件信息</p>
              <p class="mt-1">填写错误视为自动放弃奖品</p>
            </div>

            <div class="mt-5 space-y-4">
              <div>
                <input
                  v-model.trim="form.name"
                  type="text"
                  placeholder="请输入收件人"
                  class="w-full rounded-xl border border-black/70 bg-transparent px-4 py-2 placeholder:text-gray-400 focus:outline-none"
                />
                <p v-if="errors.name" class="mt-1 text-left text-xs text-red-600">{{ errors.name }}</p>
              </div>
              <div>
                <input
                  v-model.trim="form.phone"
                  type="tel"
                  placeholder="请输入手机号码"
                  class="w-full rounded-xl border border-black/70 bg-transparent px-4 py-2 placeholder:text-gray-400 focus:outline-none"
                />
                <p v-if="errors.phone" class="mt-1 text-left text-xs text-red-600">{{ errors.phone }}</p>
              </div>
              <div>
                <textarea
                  v-model.trim="form.address"
                  rows="4"
                  placeholder="请输入收件地址"
                  class="w-full resize-none rounded-xl border border-black/70 bg-transparent px-4 py-2 placeholder:text-gray-400 focus:outline-none"
                ></textarea>
                <p v-if="errors.address" class="mt-1 text-left text-xs text-red-600">{{ errors.address }}</p>
              </div>
            </div>

            <!-- button bar outside the card bottom -->
            <div class="absolute inset-x-0 -bottom-4 flex justify-between px-8">
              <button type="button" class="w-36 whitespace-nowrap rounded-md bg-[#9C7D5E] px-6 py-2 text-white shadow" @click="confirmForm">是，确认无误</button>
              <button type="button" class="w-36 whitespace-nowrap rounded-md bg-[#50744E] px-6 py-2 text-white shadow" @click="closeDialog">否，需要修改</button>
            </div>
          </template>
        </div>
      </div>
    </div>

    
  </div>
</template>

<script setup lang="ts">
import { computed, ref } from 'vue'
import { useRoute } from 'vue-router'
import Title from './title.vue'

const route = useRoute()
const level = computed(() => {
  const v = (route.query.level as string) || '二等奖'
  try { return decodeURIComponent(v) } catch { return v }
})
const desc = computed(() => {
  const v = (route.query.desc as string) || '蹬愉小程序德训鞋优惠券99元'
  try { return decodeURIComponent(v) } catch { return v }
})

const showDialog = ref(false)
const step = ref<'qrcode' | 'form'>('qrcode')
const form = ref({ name: '', phone: '', address: '' })
const errors = ref<{ name?: string; phone?: string; address?: string }>({})

const resetState = () => {
  step.value = 'qrcode'
  form.value = { name: '', phone: '', address: '' }
  errors.value = {}
}

const openDialog = () => {
  resetState()
  showDialog.value = true
}
const closeDialog = () => {
  showDialog.value = false
  resetState()
}
const toForm = () => { step.value = 'form' }

const validateForm = (): boolean => {
  const currentErrors: { name?: string; phone?: string; address?: string } = {}
  if (!form.value.name) currentErrors.name = '请输入收件人'
  const phone = form.value.phone
  if (!phone) {
    currentErrors.phone = '请输入手机号码'
  } else if (!/^1[3-9]\d{9}$/.test(phone)) {
    currentErrors.phone = '请输入有效的手机号'
  }
  if (!form.value.address) currentErrors.address = '请输入收件地址'
  errors.value = currentErrors
  return Object.keys(currentErrors).length === 0
}

const confirmForm = () => {
  if (!validateForm()) return
  // TODO: 在此处提交表单到后端接口
  closeDialog()
  // 重置状态
  step.value = 'qrcode'
}
</script>



<style scoped>
.cls-1 {
  fill: #fff;
}

.cls-2 {
  fill: none;
}

.cls-3 {
  fill: #ddcab5;
}

.cls-4 {
  fill: #50744e;
}

.cls-5 {
  clip-path: url(#clippath);
}

.cls-6 {
  fill: #9c7d5e;
}
</style>