<template>
  <div class="w-screen h-screen bg-[#F4EFE7] flex flex-col">
    <!-- 顶部标题 -->
    <div class="pt-6 flex justify-center px-32">
      <div class="relative inline-block">
        <Title></Title>
        <div class="absolute top-0 -translate-y-1 translate-x-[9rem] ">
          <Logo />
        </div>
      </div>
    </div>

    <!-- 奖品卡片区域 -->
    <div class="flex-1 flex items-center justify-center px-14">
      <img :src="randomCard" alt="" srcset="">

    </div>


    <div class=" pb-32 flex justify-center px-28" role="button" tabindex="0" 
      @click="openDialog" @keydown.enter.prevent="openDialog" @keydown.space.prevent="openDialog">
      <svg id="_鍥惧眰_1" data-name="鍥惧眰 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 341.15 83.29" >
        <g>
          <path
            d="M106.02,30.73l2.07.47c-.36,2.26-.81,4.46-1.35,6.61-.55,2.15-1.19,4.15-1.94,6.01-.75,1.86-1.61,3.51-2.59,4.95-.07-.22-.16-.48-.29-.79-.12-.31-.26-.63-.42-.95-.16-.32-.3-.58-.43-.77,1.27-1.87,2.31-4.16,3.11-6.88s1.42-5.59,1.84-8.64ZM101.78,29.69h11.17v2.2h-11.17v-2.2ZM103.98,40.74h1.97v18.32h-1.97v-18.32ZM104.82,40.74h7.02v15.37h-7.02v-2.16h5.08v-11.02h-5.08v-2.2ZM114.71,36.89h2.07v9.68c0,1.1-.05,2.28-.15,3.53-.1,1.25-.29,2.5-.57,3.76-.28,1.26-.69,2.48-1.22,3.65-.54,1.18-1.24,2.26-2.11,3.24-.11-.17-.27-.34-.48-.5-.21-.17-.43-.34-.65-.5s-.42-.29-.6-.36c1.11-1.22,1.93-2.57,2.44-4.03.51-1.46.85-2.96,1.02-4.48.17-1.52.25-2.96.25-4.3v-9.68ZM118.42,27.56l2.01.58c-.85,2.5-1.93,4.87-3.24,7.11s-2.73,4.15-4.25,5.71c-.09-.17-.22-.36-.38-.58-.17-.22-.34-.44-.52-.68-.18-.24-.35-.42-.5-.54,1.45-1.42,2.77-3.14,3.98-5.17,1.2-2.03,2.17-4.17,2.91-6.43ZM116.05,49.74h13.61v2.12h-13.61v-2.12ZM116.22,36.89h13.37v2.09h-13.37v-2.09ZM116.22,43.19h13.37v1.98h-13.37v-1.98ZM118.32,30.7h7.69v2.05h-8.62l.94-2.05ZM121.47,38h2.01v21.46h-2.01v-21.46ZM125.44,30.7h.5l.37-.11,1.44,1.04c-.38.77-.82,1.55-1.32,2.36-.5.8-1.02,1.57-1.55,2.3-.53.73-1.05,1.37-1.54,1.93-.2-.17-.45-.35-.73-.56-.29-.2-.55-.38-.77-.52.45-.5.9-1.11,1.35-1.82s.89-1.43,1.29-2.16c.4-.73.72-1.4.97-2v-.47ZM128.59,36.89h2.17v20.77c0,.62-.08,1.12-.23,1.49-.16.37-.43.65-.84.85-.4.19-.96.31-1.69.34-.72.04-1.61.05-2.66.05-.04-.31-.12-.68-.23-1.1s-.23-.79-.37-1.1c.76.02,1.45.04,2.09.05.63.01,1.04,0,1.22-.02.36,0,.53-.19.53-.58v-20.77Z" />
          <path
            d="M138.21,39.05h7.19v2.3h-7.19v-2.3ZM141.49,29.9l1.54-1.48c.56.5,1.15,1.07,1.79,1.69s1.24,1.23,1.82,1.82c.58.59,1.05,1.1,1.4,1.53l-1.57,1.76c-.36-.46-.82-1-1.39-1.62-.57-.62-1.17-1.26-1.8-1.91-.63-.65-1.23-1.25-1.79-1.8ZM143.43,59.1c-.07-.17-.18-.37-.33-.59-.16-.23-.31-.45-.47-.67-.16-.22-.31-.38-.47-.5.33-.26.72-.68,1.15-1.26.44-.58.65-1.28.65-2.12v-14.9h2.17v16.81c-.36.31-.67.6-.94.86-.27.26-.53.54-.8.83s-.5.57-.68.85c-.19.28-.29.51-.29.7ZM143.43,59.1l-.37-2.27.7-1.08,6.72-4.82c.07.31.17.67.32,1.06.14.4.26.71.35.95-1.61,1.2-2.89,2.17-3.86,2.9-.97.73-1.71,1.31-2.22,1.73-.51.42-.89.74-1.12.95-.23.22-.41.41-.52.58ZM157.53,27.71h2.24c0,2.57-.04,5.14-.12,7.7-.08,2.57-.26,5.08-.54,7.52-.28,2.45-.74,4.76-1.37,6.95-.63,2.18-1.51,4.2-2.62,6.05-1.11,1.85-2.54,3.44-4.28,4.79-.18-.29-.44-.59-.77-.9-.33-.31-.66-.56-.97-.76,1.69-1.27,3.07-2.77,4.14-4.5,1.07-1.73,1.89-3.64,2.47-5.72.58-2.09.99-4.29,1.24-6.61.24-2.32.39-4.7.45-7.16.05-2.46.09-4.91.12-7.36ZM159.47,38.8c.09.67.24,1.62.45,2.84.21,1.22.52,2.62.94,4.18.41,1.56.96,3.15,1.66,4.77.69,1.62,1.56,3.16,2.61,4.61,1.05,1.45,2.31,2.68,3.78,3.69-.29.24-.59.52-.9.83-.31.31-.57.62-.77.94-1.52-1.1-2.81-2.43-3.88-3.98-1.07-1.55-1.96-3.19-2.66-4.93s-1.27-3.44-1.69-5.11c-.42-1.67-.75-3.17-.99-4.52-.23-1.34-.42-2.38-.55-3.1l2-.22Z" />
          <path
            d="M182.3,27.67l1.97.58c-.87,2.38-2,4.71-3.38,7s-2.96,4.29-4.75,5.99c-.11-.12-.26-.28-.45-.47-.19-.19-.38-.38-.57-.56-.19-.18-.37-.33-.55-.45,1.14-1.03,2.2-2.22,3.19-3.56.99-1.34,1.88-2.75,2.66-4.23.78-1.48,1.4-2.91,1.87-4.3ZM176.72,44.12h10.33v2.16h-10.33v-2.16ZM177.36,52.44l1.47-1.22c.85.77,1.73,1.61,2.66,2.52s1.79,1.82,2.59,2.72c.8.9,1.45,1.7,1.94,2.39l-1.64,1.48c-.47-.72-1.09-1.54-1.87-2.47-.78-.92-1.62-1.86-2.52-2.81-.9-.95-1.78-1.82-2.62-2.61ZM180.3,38.08l1.47-.94c.65.65,1.28,1.36,1.91,2.14s1.1,1.45,1.44,2l-1.54,1.15c-.33-.6-.81-1.31-1.44-2.12-.62-.82-1.24-1.56-1.84-2.23ZM186.35,44.12h.33l.37-.14,1.44.97c-.49,1.25-1.09,2.57-1.8,3.96s-1.45,2.72-2.21,3.98c-.76,1.26-1.44,2.33-2.04,3.22-.2-.19-.46-.41-.79-.67-.32-.25-.61-.45-.85-.59.42-.58.9-1.28,1.42-2.12.52-.84,1.05-1.74,1.59-2.7s1.03-1.91,1.47-2.84c.45-.94.8-1.78,1.07-2.52v-.54ZM181.67,31.42l1.3-1.4c.85.84,1.72,1.78,2.62,2.81s1.74,2.03,2.52,2.99c.78.96,1.39,1.82,1.84,2.59l-1.37,1.69c-.47-.77-1.09-1.66-1.85-2.68-.77-1.02-1.59-2.05-2.47-3.1-.88-1.04-1.74-2.01-2.59-2.9ZM196.71,39.48h1.91c-.02,2.66-.09,5.03-.2,7.09s-.33,3.86-.67,5.4c-.33,1.54-.84,2.87-1.52,4-.68,1.13-1.58,2.08-2.71,2.86-1.12.78-2.55,1.45-4.26,2-.07-.26-.22-.56-.47-.9s-.47-.6-.67-.79c1.6-.5,2.93-1.1,3.98-1.8,1.05-.7,1.88-1.55,2.49-2.56s1.06-2.21,1.35-3.62c.29-1.4.48-3.07.58-4.99.1-1.92.16-4.15.18-6.7ZM190.33,29.76h14.77v2.16h-14.77v-2.16ZM191.2,35.84h12.87v16.92h-2.11v-15.01h-8.72v15.08h-2.04v-16.99ZM197.01,31.06l2,.54c-.31.96-.63,1.93-.97,2.9s-.66,1.82-.97,2.54l-1.77-.54c.29-.74.6-1.64.94-2.68s.59-1.96.77-2.75ZM197.68,54.42l1.37-1.3c.78.6,1.58,1.26,2.41,1.98.82.72,1.61,1.43,2.36,2.12.75.7,1.35,1.32,1.82,1.87l-1.4,1.51c-.47-.55-1.07-1.19-1.8-1.93s-1.52-1.47-2.36-2.21c-.84-.74-1.63-1.43-2.39-2.05Z" />
          <path
            d="M225.83,45.2h2.34c-.2,1.61-.5,3.1-.9,4.48-.4,1.38-.95,2.65-1.64,3.8-.69,1.15-1.6,2.19-2.72,3.11-1.13.92-2.52,1.73-4.18,2.41-1.66.68-3.66,1.25-6,1.71-.09-.29-.24-.64-.45-1.04-.21-.41-.43-.73-.65-.97,2.23-.38,4.12-.88,5.68-1.48,1.56-.6,2.85-1.31,3.88-2.12,1.02-.82,1.84-1.73,2.46-2.74.61-1.01,1.08-2.11,1.4-3.29.32-1.19.59-2.48.79-3.87ZM211.79,40.96c1.07-.5,2.36-1.15,3.86-1.94s3.05-1.61,4.63-2.45l.57,1.94c-1.38.79-2.78,1.59-4.2,2.39-1.41.8-2.7,1.53-3.86,2.18l-1-2.12ZM212.22,48.08h29.22v2.16h-29.22v-2.16ZM212.76,30.55l1.74-.94c.67.84,1.31,1.79,1.94,2.84.62,1.06,1.07,1.97,1.34,2.74l-1.87,1.12c-.25-.79-.67-1.73-1.27-2.81s-1.23-2.06-1.87-2.95ZM219.64,27.67h2.14v17.57h-2.14v-17.57ZM239.4,30.77h.47l.43-.11,1.3.72c-.89,2.9-2.2,5.27-3.93,7.11s-3.75,3.28-6.08,4.32c-2.33,1.04-4.88,1.83-7.64,2.36-.04-.19-.14-.41-.28-.67-.15-.25-.3-.5-.45-.76-.16-.25-.31-.45-.47-.59,2.67-.43,5.13-1.1,7.37-2.02,2.24-.91,4.16-2.17,5.75-3.78,1.59-1.61,2.77-3.67,3.53-6.19v-.4ZM230.17,27.6l2.17.72c-.76,1.63-1.83,3.2-3.21,4.72-1.38,1.51-2.86,2.75-4.45,3.71-.11-.17-.25-.36-.4-.58s-.32-.43-.5-.65c-.18-.22-.35-.4-.5-.54,1-.58,1.96-1.27,2.86-2.07s1.71-1.67,2.41-2.59c.7-.92,1.24-1.83,1.62-2.72ZM228.4,49.52c1.03,2.62,2.7,4.63,5.01,6.03,2.32,1.4,5.25,2.32,8.79,2.75-.18.17-.36.38-.54.65-.18.26-.34.52-.48.77-.15.25-.26.5-.35.74-2.45-.41-4.62-1.04-6.5-1.89s-3.48-1.98-4.8-3.38c-1.31-1.4-2.36-3.13-3.14-5.17l2.01-.5ZM227.4,35.95l1.67-1.08c.6.48,1.21,1.03,1.84,1.66.62.62,1.21,1.24,1.75,1.85.55.61.99,1.16,1.32,1.64l-1.74,1.22c-.31-.5-.73-1.07-1.25-1.69-.52-.62-1.1-1.25-1.72-1.87-.62-.62-1.25-1.2-1.87-1.73ZM228.9,30.77h10.9v2.09h-10.9v-2.09Z" />
        </g>
        <path
          d="M317.1,82.14c-82.75.29-167.26,1.94-250.14.69-7.85-.1-29.82-.25-37.52-.27-3.13-.05-6.34.15-9.45-.39-9.56-1.48-17.53-9.36-19.4-18.81-.76-3.63-.41-8.86-.51-12.57-.02-6.23-.05-18.78-.06-25.01C-.47,15.53,6.28,5.46,16.03,2.17c2.53-.96,5.23-1.32,7.92-1.41C57.3.47,90.65.25,124.01.17c61.46-.2,126.32-.33,187.6.27,4.22.05,8.62-.11,12.7,1.24,10.51,3.29,17.58,13.93,16.78,24.86-.02,3.95-.18,14.67-.21,18.76-.05,4.17-.09,8.34-.1,12.51.11,4.21-.95,8.45-2.95,12.15-4.09,7.44-12.25,12.26-20.73,12.19h0ZM317.1,81.84c8.32,0,16.34-4.8,20.28-12.14,1.92-3.65,2.92-7.76,2.77-11.9,0-4.17-.05-8.34-.1-12.51l-.14-12.51c-.1-3.59.15-8.87-.59-12.34-2.04-9.96-11.32-17.74-21.5-17.76-63.39.58-130.26.56-193.82.31-33.35-.09-66.7-.3-100.05-.59-2.51.06-5.04.35-7.42,1.22-5.28,1.75-9.79,5.58-12.52,10.44-1.93,3.57-2.97,7.6-2.87,11.72l-.03,12.51c-.02,4.13-.03,14.76-.05,18.76-.81,12.83,9.24,24.11,22.15,24.37,11.08.08,32.41-.17,43.76-.26,82.91-1.27,167.36.4,250.14.69h0Z" />
      </svg>
    </div>

    <!-- Dialog Modal -->
    <div v-show="showDialog" class="fixed inset-0 z-50 flex items-center justify-center" aria-modal="true" role="dialog"
      @click.self="closeDialog">
      <!-- Overlay -->
      <div class="absolute inset-0 bg-black/50"></div>
      <!-- Panel (Redesigned) -->
      <div class="relative z-10 w-[100%]">
        <div class="relative flex  justify-center items-center ">
          <!-- close button -->

          <!-- Step: QR code -->
          <div v-show="step === 'qrcode'"
            class=" rounded-2xl  w-[21rem]  h-[21rem]  py-16 flex flex-col items-center bg-cover bg-center bg-no-repeat "
            :style="{ backgroundImage: `url(${fangxing})` }">
            <img class="h-24 w-24 object-contain" src="https://steppy-dev.oss-cn-guangzhou.aliyuncs.com/qrcode.png"
              alt="客服二维码" />
            <div class="my-2 flex flex-col items-center  text-[9px] leading-6 text-gray-800">
              <p>长按图片保存蹀愫管家二维码</p>
              <p>添加客服获取兑换奖品信息</p>
              <p>超过7天不领取视为自动放弃奖品</p>
            </div>
            <button type="button" class=" rounded-md bg-[#50744E] text-xs px-4 py-1 text-white shadow cursor-pointer"
              @click="toForm">
             已添加
            </button>
          </div>

          <!-- Step: Form -->
          <div v-show="step === 'form' && !showSecondConfirm" class=" rounded-2xl w-[332px] h-[367px] flex flex-col items-center bg-cover bg-center bg-no-repeat "
            :style="{ backgroundImage: `url(${changxing})` }">
            <div class="text-center text-[12px] mt-12 font-semibold text-black">
              <p>请仔细填写收件信息</p>
              <p class="">填写错误视为自动放弃奖品</p>
            </div>

            <div class="mt-5 space-y-4">
              <div>
                <input v-model.trim="form.name" type="text" placeholder="请输入收件人"
                  class="w-full rounded-xl border border-black/70 bg-transparent px-5 py-1.5 text-xs placeholder:text-xs placeholder:text-gray-400 focus:outline-none" />
                <p v-if="errors.name" class="mt-1 text-left text-xs text-red-600">{{ errors.name }}</p>
              </div>
              <div>
                <input v-model.trim="form.phone" type="tel" placeholder="请输入手机号码"
                  class="w-full rounded-xl border border-black/70 bg-transparent px-5 py-1.5 text-xs placeholder:text-xs placeholder:text-gray-400 focus:outline-none" />
                <p v-if="errors.phone" class="mt-1 text-left text-xs text-red-600">{{ errors.phone }}</p>
              </div>
              <div>
                <textarea v-model.trim="form.address" rows="3" placeholder="请输入收件地址"
                  class="w-full resize-none rounded-xl border border-black/70 bg-transparent px-5 py-1.5 text-xs placeholder:text-xs placeholder:text-gray-400 focus:outline-none"></textarea>
                <p v-if="errors.address" class="mt-1 text-left text-xs text-red-600">{{ errors.address }}</p>
              </div>
            </div>

            <!-- button bar outside the card bottom -->
            <div class=" flex justify-between  mt-4">
              <button type="button"
                class=" whitespace-nowrap mr-2 rounded-md bg-[#9C7D5E] text-xs px-2.5 py-2 text-white shadow"
                @click="confirmForm">是，确认无误</button>
              <button type="button"
                class=" whitespace-nowrap ml-2 rounded-md bg-[#50744E] text-xs px-2.5 py-2 text-white shadow"
                @click="closeDialog">否，需要修改</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Second Confirm Dialog -->
    <div v-show="showSecondConfirm" class="fixed inset-0 z-[60] flex items-center justify-center" aria-modal="true" role="dialog" @click.self="cancelSecond">
    
      <svg width="320" height="315" viewBox="0 0 320 315" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M245.338 1.59449L4.9917 69.2435C2.23486 70.0194 0.629032 72.8833 1.40498 75.6401L67.3033 309.767C68.0793 312.524 70.9432 314.13 73.7 313.354L314.047 245.705C316.804 244.929 318.409 242.065 317.634 239.308L251.735 5.1812C250.959 2.42436 248.095 0.818542 245.338 1.59449Z" fill="#AF80A8"/>
<path d="M262.177 14.4151L14.9452 49.3372C12.1094 49.7378 10.1353 52.3614 10.5358 55.1972L44.5543 296.031C44.9548 298.867 47.5784 300.841 50.4142 300.44L297.646 265.518C300.482 265.118 302.456 262.494 302.055 259.658L268.037 18.8245C267.636 15.9887 265.012 14.0145 262.177 14.4151Z" fill="#9C7D5E"/>
<path d="M274.455 30.6797C275.772 30.6792 277.076 30.9378 278.293 31.4414C279.51 31.945 280.615 32.6843 281.546 33.6152C282.477 34.5462 283.217 35.6516 283.721 36.8682C284.225 38.0846 284.484 39.3884 284.484 40.7051V274.242C284.484 276.901 283.428 279.452 281.548 281.332C279.668 283.212 277.118 284.268 274.459 284.269H34.4561C31.7973 284.268 29.2473 283.212 27.3672 281.332C25.487 279.452 24.4307 276.901 24.4307 274.242V40.7051C24.4307 38.0462 25.4871 35.4963 27.3672 33.6162C29.2473 31.7361 31.7972 30.6797 34.4561 30.6797H274.455Z" fill="#E8D8C8"/>
<path d="M149.954 228.016H56.8096C54.5185 228.016 52.6611 229.873 52.6611 232.164V257.052C52.6611 259.343 54.5185 261.2 56.8096 261.2H149.954C152.246 261.2 154.103 259.343 154.103 257.052V232.164C154.103 229.873 152.246 228.016 149.954 228.016Z" fill="#9C7D5E"/>
<path d="M81.7349 246.423C81.5725 249.559 80.9709 251.163 77.6313 251.934C77.5135 251.617 77.3389 251.324 77.1162 251.07C80.1723 250.43 80.6148 249.144 80.7565 246.423H81.7349ZM88.6491 245.798V246.779H77.2752V245.798H88.6491ZM88.3034 240.723V243.81H87.3077V241.735H78.5578V243.81H77.5967V240.736L88.3034 240.723ZM86.44 243.212V244.193H79.4601V243.229L86.44 243.212ZM82.9276 239.008C83.2896 239.631 83.5905 240.287 83.8264 240.968L82.7893 241.314C82.573 240.622 82.2893 239.952 81.9423 239.315L82.9276 239.008ZM84.9362 246.389V250.264C84.9362 250.672 85.026 250.738 85.5584 250.738H87.3527C87.8367 250.738 87.9162 250.499 87.9577 248.892C88.2264 249.081 88.5258 249.223 88.8427 249.31C88.7286 251.222 88.4555 251.709 87.4288 251.709H85.4582C84.2725 251.709 83.9682 251.391 83.9682 250.271V246.389H84.9362Z" fill="white"/>
<path d="M92.8051 241.492V245.413C92.8051 247.383 92.6115 250.187 91.4223 252.016C91.1866 251.748 90.9142 251.515 90.6133 251.324C91.6815 249.617 91.7921 247.217 91.7921 245.402V241.496L92.8051 241.492ZM95.5431 244.341V245.312H92.3557V244.341H95.5431ZM102.367 241.492V242.529H92.4179V241.492H102.367ZM96.0997 244.341C96.0997 244.341 96.0997 244.652 96.0997 244.79C96.0374 247.923 95.9683 249.098 95.6987 249.475C95.6073 249.594 95.4903 249.692 95.3563 249.761C95.2224 249.83 95.0748 249.868 94.9243 249.872C94.4086 249.907 93.8912 249.907 93.3755 249.872C93.3511 249.534 93.2619 249.203 93.1128 248.897C93.697 248.956 94.2536 248.963 94.4714 248.963C94.545 248.974 94.6203 248.967 94.6904 248.942C94.7605 248.916 94.8231 248.874 94.8725 248.818C95.0626 248.569 95.1248 247.525 95.1732 244.521V244.344L96.0997 244.341ZM101.579 243.86C100.483 247.48 98.5715 250.166 95.9441 251.85C95.7357 251.548 95.5045 251.263 95.2527 250.996C97.849 249.499 99.664 246.955 100.632 243.601L101.579 243.86ZM98.1394 239.148C98.1152 245.554 99.3735 250.754 101.036 250.754C101.403 250.754 101.565 250.035 101.634 248.185C101.873 248.429 102.158 248.622 102.471 248.756C102.298 251.134 101.939 251.819 100.96 251.819C98.3503 251.819 97.1886 245.807 97.1402 239.148H98.1394ZM99.3563 239.19C100.185 239.629 100.961 240.161 101.669 240.777L101.068 241.489C100.368 240.851 99.5995 240.295 98.7755 239.829L99.3563 239.19Z" fill="white"/>
<path d="M110.45 239.727V240.619H104.365V239.727H110.45ZM110.197 242.423V251.692H109.395V243.315H105.378V251.878H104.6V242.423H110.197ZM109.565 250.029V250.876H104.922V250.029H109.565ZM106.968 243.042V244.349C106.996 244.852 106.91 245.354 106.717 245.819C106.524 246.284 106.228 246.7 105.852 247.035C105.712 246.862 105.547 246.711 105.361 246.589C105.693 246.32 105.956 245.975 106.129 245.584C106.301 245.192 106.378 244.765 106.353 244.338V243.042H106.968ZM108.87 247.785V248.615H105.9V247.785H108.87ZM106.937 240.045V243.083H106.159V240.045H106.937ZM108.614 240.045V243.083H107.822V240.045H108.614ZM108.483 243.063V245.483C108.483 245.662 108.51 245.683 108.666 245.683H109.191C109.343 245.683 109.378 245.683 109.402 245.645C109.571 245.771 109.764 245.861 109.969 245.908C109.893 246.254 109.7 246.385 109.299 246.385H108.607C108.033 246.385 107.864 246.226 107.864 245.493V243.073L108.483 243.063ZM115.691 239.778V245.31H111.162V244.318H114.761V240.774H110.958V239.778H115.691ZM111.943 244.318V250.195C111.943 250.703 112.05 250.803 112.635 250.803H114.571C115.134 250.803 115.234 250.457 115.29 248.449C115.557 248.646 115.858 248.791 116.178 248.878C116.061 251.142 115.787 251.781 114.643 251.781H112.531C111.362 251.781 111.006 251.46 111.006 250.191V244.314L111.943 244.318Z" fill="white"/>
<path d="M122.781 239.439C121.75 241.501 120.252 243.295 118.408 244.68C118.266 244.336 118.086 244.009 117.872 243.705C119.594 242.541 120.985 240.949 121.907 239.086L122.781 239.439ZM120.482 242.986V249.689C120.482 250.526 120.748 250.726 122.152 250.726H127.179C128.444 250.726 128.644 250.342 128.793 248.496C129.079 248.68 129.395 248.813 129.726 248.887C129.502 251.061 129.104 251.691 127.186 251.691H122.225C120.181 251.691 119.549 251.303 119.549 249.682V242.989L120.482 242.986ZM128.434 242.986V247.995H127.476V243.964H120.251V242.989L128.434 242.986ZM127.939 246.377V247.369H120.251V246.377H127.939ZM125.772 240.344V241.285H121.232L121.668 240.344H125.772ZM124.389 243.314V247.003H123.445V243.314H124.389ZM125.682 240.344L125.879 240.286L126.508 240.776C125.838 241.884 125.024 242.897 124.088 243.791C123.915 243.568 123.721 243.361 123.511 243.172C124.29 242.41 124.945 241.53 125.454 240.566V240.344H125.682Z" fill="white"/>
<path d="M79.2833 140.507V141.517H76.9551V140.507H79.2833ZM78.3236 136.448C78.9843 137.078 79.5959 137.764 80.1521 138.5L79.5388 139.247C78.9948 138.476 78.3927 137.755 77.7387 137.089L78.3236 136.448ZM78.1845 147.806C78.3605 147.669 78.5036 147.489 78.6023 147.281C78.701 147.073 78.7524 146.844 78.7523 146.611V140.507H79.6041V147.488C79.6041 147.488 78.6359 148.292 78.6359 148.702C78.525 148.382 78.3731 148.081 78.1845 147.806ZM78.494 147.712L78.7381 147.269L80.879 145.418C80.9491 145.723 81.051 146.02 81.1828 146.301C79.1527 148.122 78.8375 148.426 78.6615 148.699L78.494 147.712ZM87.9999 140.661V141.463H80.6944V140.661H87.9999ZM87.6365 137.241V138.033H81.0522V137.232L87.6365 137.241ZM87.2674 138.928V139.69H81.3503V138.928H87.2674ZM86.4468 142.267V143.09H82.4008V148.945H81.5491V142.267H86.4468ZM86.4468 146.022V146.787H82.1879V146.022H86.4468ZM86.4241 144.14V144.883H82.2078V144.14H86.4241ZM84.7461 136.133V140.904H83.8517V136.133H84.7461ZM87.0459 142.267V147.779C87.0459 148.301 86.9494 148.577 86.6115 148.732C86.2737 148.887 85.7313 148.896 84.8795 148.89C84.8252 148.576 84.7356 148.27 84.6127 147.979C85.2259 148.013 85.8023 148.007 85.967 148.001C86.1317 147.995 86.1828 147.934 86.1828 147.761V142.267H87.0459Z" fill="black"/>
<path d="M100.059 144.611V145.585H88.96V144.611H100.059ZM99.613 136.992V137.97H89.3915V136.992H99.613ZM98.0769 139.332V140.295H91.2768V148.981H90.3881V139.326L98.0769 139.332ZM98.0514 141.964V142.875H90.9815V141.964H98.0514ZM94.9026 137.302V144.972H93.9997V137.296L94.9026 137.302ZM98.5937 139.332V147.676C98.5937 148.314 98.4659 148.632 98.0656 148.793C97.6652 148.954 96.998 148.975 95.9588 148.975C95.8857 148.629 95.7752 148.293 95.6295 147.974C96.4245 148.007 97.1968 147.992 97.4069 147.974C97.617 147.956 97.6908 147.898 97.6908 147.67V139.326L98.5937 139.332Z" fill="black"/>
<path d="M104.919 144.085V145.117H101.114V144.085H104.919ZM104.547 138.318V139.335H101.373V138.33L104.547 138.318ZM108.147 140.121V141.226C108.147 143.533 107.812 146.774 104.115 148.99C103.928 148.68 103.7 148.4 103.44 148.158C106.923 146.122 107.199 143.217 107.199 141.205V140.121H108.147ZM106.975 136.354C106.54 138.746 105.822 141.023 104.922 142.507C104.643 142.277 104.345 142.074 104.033 141.9C104.953 140.543 105.62 138.364 105.989 136.133L106.975 136.354ZM111.012 138.531V139.563H105.453L105.853 138.531H111.012ZM112.102 147.94C111.86 148.21 111.655 148.517 111.495 148.851C109.087 147.709 107.889 145.16 107.295 141.648L108.071 141.493C108.601 144.635 109.814 147.017 112.108 147.952L112.102 147.94ZM110.876 138.531L111.052 138.47L111.716 138.889C111.408 140.194 110.985 141.466 110.453 142.686C110.26 142.565 109.902 142.358 109.686 142.246C110.156 141.138 110.51 139.979 110.742 138.789V138.543L110.876 138.531Z" fill="black"/>
<path d="M115.558 137.456C115.183 140.403 114.544 143.132 113.437 144.944C113.274 144.623 113.084 144.318 112.869 144.034C113.863 142.443 114.385 139.945 114.686 137.307L115.558 137.456ZM117.633 136.904V137.863H113.13V136.904H117.633ZM114.857 141.059V148.204H114.047V141.059H114.857ZM117.222 141.059V147.023H114.445V146.082H116.401V141.991H114.445V141.059H117.222ZM118.974 139.699V143.399C118.974 145.141 118.761 147.469 117.48 149.002C117.299 148.745 117.08 148.519 116.833 148.335C118.003 146.938 118.136 144.956 118.136 143.396V139.699H118.974ZM120.297 136.379C119.787 138.102 118.972 139.706 117.898 141.102C117.692 140.85 117.467 140.617 117.225 140.406C118.258 139.177 119.025 137.717 119.468 136.133L120.297 136.379ZM123.255 144.574V145.484H118.562V144.574H123.255ZM123.255 139.684V140.595H118.616V139.684H123.255ZM123.255 142.112V142.95H118.616V142.112H123.255ZM121.895 137.295V138.173H119.101L119.479 137.295H121.895ZM121.273 140.115V144.971H120.476V140.115H121.273ZM121.816 137.295L121.952 137.247L122.543 137.702C122.167 138.597 121.708 139.45 121.174 140.249C120.977 140.081 120.768 139.93 120.549 139.796C120.991 139.077 121.35 138.303 121.62 137.493V137.295H121.816ZM123.698 139.69V147.749C123.698 148.325 123.596 148.635 123.258 148.79C122.92 148.945 122.35 148.978 121.518 148.978C121.463 148.634 121.368 148.298 121.234 147.979C121.844 148.01 122.438 148.01 122.605 148.001C122.773 147.992 122.827 147.931 122.827 147.74V139.699L123.698 139.69Z" fill="black"/>
<path d="M127.756 140.508V141.518H125.146V140.508H127.756ZM126.884 136.413C127.486 137.02 128.304 137.87 128.718 138.386L128.085 139.145C127.517 138.415 126.916 137.716 126.282 137.05L126.884 136.413ZM126.501 147.643C126.698 147.488 126.859 147.287 126.974 147.056C127.088 146.825 127.153 146.569 127.162 146.308V140.508H128.04V147.055C128.04 147.055 127.001 147.986 127.001 148.393C126.87 148.118 126.701 147.865 126.501 147.643ZM126.839 147.434L127.1 146.994L129.525 145.109C129.596 145.408 129.691 145.701 129.809 145.983C127.503 147.85 127.185 148.144 127.012 148.411L126.839 147.434ZM132.972 136.164C132.943 141.148 132.895 146.305 129.738 148.973C129.546 148.688 129.311 148.439 129.042 148.238C132.089 145.771 132.035 140.881 132.054 136.164H132.972ZM136.217 148.184C135.958 148.399 135.735 148.659 135.555 148.952C132.804 146.797 132.284 141.934 132.057 140.489L132.861 140.404C133.023 141.667 133.551 146.183 136.22 148.168L136.217 148.184Z" fill="black"/>
<path d="M137.336 145.483C137.477 145.379 137.591 145.237 137.665 145.071C137.739 144.906 137.772 144.722 137.759 144.539V137.686H138.642V145.471C138.642 145.471 137.711 146.078 137.711 146.445C137.622 146.11 137.496 145.787 137.336 145.483ZM137.62 145.45L138.032 145.022L140.913 143.929C140.965 144.238 141.037 144.542 141.129 144.84C138.358 145.987 137.963 146.218 137.722 146.451L137.62 145.45ZM141.396 136.344V148.965H140.499V136.341L141.396 136.344ZM144.471 136.314C144.051 139.024 143.31 141.501 142.174 143.134C141.985 142.823 141.769 142.531 141.53 142.263C142.563 140.842 143.202 138.572 143.545 136.141L144.471 136.314ZM147.256 139.489C146.589 144.154 145.218 147.146 142.319 148.971C142.151 148.664 141.955 148.377 141.734 148.112C144.536 146.533 145.797 143.692 146.362 139.349L147.256 139.489ZM148.208 148.048C147.961 148.297 147.748 148.582 147.574 148.895C145.093 147.313 143.616 143.95 142.81 139.92L143.551 139.728C144.284 143.425 145.791 146.664 148.205 148.045L148.208 148.048ZM148.103 138.854V139.844H143.21V138.842L148.103 138.854Z" fill="black"/>
<path d="M152.705 136.488C151.949 138.846 150.782 141.205 149.53 142.78C149.386 142.419 149.212 142.073 149.011 141.745C150.146 140.388 151.206 138.297 151.85 136.188L152.705 136.488ZM151.487 138.789H151.501V148.908H150.635V139.778L151.487 138.789ZM154.692 137.037C154.363 138.983 153.812 140.889 153.116 142.134C152.874 141.936 152.616 141.762 152.344 141.615C153.045 140.455 153.551 138.652 153.821 136.837L154.692 137.037ZM160.087 143.084V144.11H152.421V143.09L160.087 143.084ZM159.559 138.989V140.015H153.71L153.937 138.989H159.559ZM156.799 136.306V148.948H155.896V136.306H156.799Z" fill="black"/>
<path d="M164.548 136.468C163.846 138.809 162.736 141.158 161.549 142.736C161.407 142.392 161.237 142.062 161.041 141.75C162.126 140.387 163.131 138.296 163.738 136.192L164.548 136.468ZM163.511 138.869V148.977H162.679V139.81L163.511 138.869ZM172.055 138.444V139.328H164.389V138.444H172.055ZM171.234 144.46V148.91H170.419V145.325H165.876V148.952H165.09V144.46H171.234ZM171.109 140.445V141.307H165.257V140.445H171.109ZM171.109 142.421V143.273H165.257V142.421H171.109ZM170.72 147.538V148.403H165.632V147.538H170.72ZM167.955 136.141C168.297 136.719 168.591 137.328 168.832 137.962L168.02 138.381C167.787 137.728 167.502 137.099 167.168 136.499L167.955 136.141Z" fill="black"/>
<path d="M175.245 145.382C174.921 146.385 174.523 147.359 174.056 148.296L173.232 147.841C173.74 146.947 174.153 145.996 174.465 145.006L175.245 145.382ZM182.375 137.436V144.071H175.016V137.436H182.375ZM176.745 145.024V147.282C176.745 147.671 176.884 147.737 177.653 147.737H180.319C180.964 147.737 181.06 147.54 181.117 146.12C181.374 146.308 181.664 146.44 181.969 146.508C181.847 148.287 181.549 148.706 180.385 148.706H177.613C176.217 148.706 175.847 148.402 175.847 147.294V145.024H176.745ZM175.893 139.381H181.481V138.273H175.884L175.893 139.381ZM175.893 141.3H181.481V140.177H175.884L175.893 141.3ZM175.893 143.23H181.481V142.098H175.884L175.893 143.23ZM178.425 144.034C179.065 144.668 179.624 145.39 180.086 146.18L179.351 146.708C178.904 145.9 178.361 145.158 177.736 144.499L178.425 144.034ZM179.345 136.209C179.093 136.816 178.797 137.424 178.582 137.824L177.77 137.612C177.977 137.088 178.152 136.549 178.292 136L179.345 136.209ZM182.676 144.778C183.255 145.636 183.722 146.574 184.064 147.567L183.213 148.004C182.886 146.999 182.436 146.044 181.872 145.166L182.676 144.778Z" fill="black"/>
<path d="M188.4 143.815C188.014 146.134 187.148 147.864 185.828 148.975C185.624 148.709 185.393 148.466 185.141 148.253C186.415 147.294 187.185 145.724 187.5 143.682L188.4 143.815ZM196.066 142.298V143.232H185.425V142.298H196.066ZM194.74 136.719V141.326H186.685V136.719H194.74ZM192.702 147.691C193.162 147.691 195.677 147.691 196.299 147.691C196.144 148.007 196.034 148.345 195.973 148.696H192.668C189.843 148.696 188.213 148.113 187.273 145.299L188.025 144.975C188.747 147.251 190.337 147.685 192.702 147.688V147.691ZM187.56 138.637H193.826V137.508H187.56V138.637ZM187.56 140.531H193.826V139.39H187.56V140.531ZM191.291 142.698V147.98H190.382V142.698H191.291ZM195.266 144.771V145.697H190.76V144.771H195.266Z" fill="black"/>
<path d="M204.198 137.777C202.685 139.986 200.189 141.68 197.81 142.739C197.624 142.403 197.411 142.085 197.174 141.789C199.556 140.9 201.975 139.309 203.321 137.324L204.198 137.777ZM207.989 136.93V137.934H197.549V136.945L207.989 136.93ZM206.745 143.701V148.931H205.783V144.612H199.82V148.952H198.892V143.701H206.745ZM206.177 147.344V148.279H199.38V147.344H206.177ZM203.202 138.293V138.311V143.279H202.282V139.334L203.202 138.293ZM204.363 139.27C205.753 139.948 207.069 140.789 208.287 141.777L207.639 142.569C206.438 141.532 205.12 140.659 203.716 139.971L204.363 139.27Z" fill="black"/>
<path d="M210.141 136.747C210.781 137.723 211.344 138.753 211.825 139.828L210.973 140.338C210.517 139.239 209.975 138.183 209.352 137.181L210.141 136.747ZM211.2 143.121L212.001 143.634C211.495 145.191 210.834 146.973 210.271 148.309L209.357 147.814C210.053 146.284 210.668 144.713 211.2 143.109V143.121ZM214.968 136.508C214.272 138.848 213.187 141.097 211.975 142.557C211.775 142.29 211.555 142.041 211.316 141.813C212.509 140.496 213.525 138.417 214.13 136.271L214.968 136.508ZM220.007 138.632V139.543H214.017V148.952H213.165V139.449L213.832 138.629H220.01L220.007 138.632ZM219.76 141.416V142.326H213.758V141.416H219.76ZM220.249 147.019V147.966H213.767V147.019H220.249ZM219.752 144.193V145.103H213.772V144.193H219.752ZM216.856 136.234C217.232 136.851 217.554 137.505 217.816 138.186L216.998 138.663C216.755 137.955 216.452 137.274 216.092 136.626L216.856 136.234ZM217.424 139.145V147.538H216.546V139.145H217.424Z" fill="black"/>
<path d="M223.823 137.456C223.446 140.403 222.807 143.132 221.7 144.944C221.538 144.622 221.348 144.317 221.132 144.034C222.126 142.443 222.651 139.945 222.949 137.307L223.823 137.456ZM225.899 136.904V137.863H221.399V136.904H225.899ZM223.122 141.059V148.204H222.31V141.059H223.122ZM225.487 141.059V147.023H222.708V146.082H224.667V141.991H222.708V141.059H225.487ZM227.236 139.699V143.399C227.236 145.141 227.023 147.469 225.743 149.002C225.562 148.744 225.343 148.519 225.095 148.335C226.265 146.938 226.402 144.956 226.402 143.396V139.699H227.236ZM228.559 136.379C228.05 138.102 227.237 139.705 226.163 141.102C225.956 140.85 225.73 140.618 225.487 140.406C226.519 139.176 227.283 137.716 227.725 136.133L228.559 136.379ZM231.518 144.574V145.484H226.827V144.574H231.518ZM231.518 139.684V140.595H226.893V139.684H231.518ZM231.518 142.112V142.95H226.893V142.112H231.518ZM230.158 137.295V138.173H227.361L227.736 137.295H230.158ZM229.536 140.115V144.971H228.738V140.115H229.536ZM230.076 137.295L230.212 137.247L230.802 137.702C230.428 138.598 229.969 139.451 229.434 140.249C229.237 140.081 229.028 139.93 228.809 139.796C229.251 139.077 229.61 138.303 229.88 137.493V137.295H230.076ZM231.961 139.69V147.749C231.961 148.325 231.859 148.635 231.518 148.79C231.177 148.945 230.612 148.978 229.777 148.978C229.725 148.633 229.629 148.297 229.494 147.979C230.104 148.01 230.7 148.01 230.868 148.001C231.035 147.992 231.089 147.931 231.089 147.74V139.699L231.961 139.69Z" fill="black"/>
<path d="M149.687 228.016H56.6357C54.4406 228.016 52.6611 229.793 52.6611 231.986V257.046C52.6611 259.238 54.4406 261.016 56.6357 261.016H149.687C151.882 261.016 153.661 259.238 153.661 257.046V231.986C153.661 229.793 151.882 228.016 149.687 228.016Z" fill="#9C7D5E" @click="confirmSecond" />
<path d="M70.0162 245.761C69.6055 248.077 68.6914 249.784 67.2837 250.879C67.0669 250.61 66.8215 250.366 66.5518 250.151C67.9064 249.201 68.7245 247.64 69.059 245.615L70.0162 245.761ZM78.1541 244.239V245.169H66.8532V244.239H78.1541ZM76.7498 238.711V243.286H68.1913V238.711H76.7498ZM74.5837 249.608C75.0705 249.608 77.7401 249.608 78.4025 249.608C78.2385 249.92 78.1213 250.255 78.0548 250.601H74.5605C71.5597 250.601 69.8274 250.025 68.8239 247.23L69.6221 246.899C70.3872 249.172 72.0731 249.608 74.5837 249.608ZM69.122 240.62H75.7793V239.502H69.122V240.62ZM69.122 242.499H75.7793V241.364H69.122V242.499ZM73.0965 244.653V249.893H72.1294V244.646L73.0965 244.653ZM77.3294 246.707V247.623H72.5434V246.704L77.3294 246.707Z" fill="white"/>
<path d="M81.5166 246.421C82.5632 245.952 83.1329 245.254 83.1329 244.208L82.8944 243.047L83.5867 244.092C83.5089 244.199 83.406 244.285 83.287 244.343C83.168 244.401 83.0366 244.428 82.9044 244.423C82.7739 244.43 82.6435 244.408 82.522 244.36C82.4006 244.312 82.2909 244.239 82.2004 244.145C82.1099 244.05 82.0407 243.938 81.9976 243.815C81.9545 243.692 81.9384 243.561 81.9505 243.431C81.9421 243.3 81.9611 243.17 82.0063 243.047C82.0516 242.925 82.1221 242.813 82.2133 242.72C82.3044 242.626 82.4142 242.553 82.5355 242.504C82.6569 242.456 82.787 242.433 82.9176 242.438C83.6297 242.438 84.0106 243.063 84.0106 244.033C84.0225 244.721 83.8148 245.396 83.4177 245.959C83.0206 246.522 82.4546 246.945 81.8014 247.166L81.5166 246.421Z" fill="white"/>
<path d="M90.0091 239.444C89.6117 242.368 88.9327 245.068 87.7569 246.877C87.5816 246.556 87.3776 246.252 87.1475 245.968C88.204 244.39 88.7572 241.908 89.0751 239.292L90.0091 239.444ZM92.215 238.898V239.847H87.4323V238.898H92.215ZM89.2639 243.02V250.113H88.4027V243.02H89.2639ZM91.7778 243.02V248.945H88.8267V248.012H90.9067V243.946H88.8267V243.023L91.7778 243.02ZM93.6359 241.67V245.333C93.6359 247.063 93.4107 249.375 92.0494 250.897C91.8572 250.642 91.6258 250.419 91.3638 250.235C92.6025 248.849 92.7483 246.881 92.7483 245.333V241.667L93.6359 241.67ZM95.0403 238.362C94.4984 240.073 93.6339 241.664 92.4932 243.05C92.2745 242.8 92.0352 242.568 91.7778 242.358C92.8734 241.137 93.6845 239.689 94.1526 238.117L95.0403 238.362ZM98.1835 246.51V247.423H93.2153V246.51H98.1835ZM98.1835 241.657V242.554H93.2716V241.667L98.1835 241.657ZM98.1835 244.062V244.896H93.2716V244.062H98.1835ZM96.7394 239.282V240.152H93.7717L94.1692 239.282H96.7394ZM96.077 242.077V246.907H95.2291V242.077H96.077ZM96.6533 239.282L96.7957 239.232L97.4217 239.685C97.0242 240.575 96.537 241.422 95.9677 242.213C95.7593 242.045 95.5378 241.895 95.3052 241.763C95.7752 241.048 96.1577 240.279 96.4446 239.474V239.282H96.6533ZM98.6405 241.657V249.656C98.6405 250.232 98.5313 250.536 98.1702 250.692C97.8092 250.847 97.2064 250.877 96.3221 250.877C96.268 250.535 96.1689 250.201 96.0273 249.885C96.6897 249.911 97.3091 249.911 97.4879 249.905C97.6668 249.898 97.7231 249.835 97.7231 249.647V241.667L98.6405 241.657Z" fill="white"/>
<path d="M103.734 242.476V243.468H100.945V242.476H103.734ZM102.807 238.397C103.446 238.995 104.327 239.842 104.754 240.355L104.092 241.109C103.675 240.58 102.81 239.68 102.171 239.045L102.807 238.397ZM102.399 249.545C102.609 249.392 102.781 249.193 102.903 248.964C103.025 248.735 103.094 248.481 103.105 248.222V242.479H104.039V248.98C104.039 248.98 102.933 249.903 102.933 250.303C102.795 250.025 102.615 249.769 102.399 249.545ZM102.757 249.337L103.035 248.9L105.612 247.031C105.685 247.327 105.781 247.617 105.9 247.898C103.453 249.751 103.115 250.045 102.919 250.306L102.757 249.337ZM109.272 238.148C109.242 243.111 109.189 248.216 105.837 250.865C105.635 250.582 105.385 250.336 105.099 250.138C108.335 247.686 108.275 242.833 108.298 238.148H109.272ZM112.72 250.081C112.446 250.296 112.207 250.553 112.014 250.842C109.093 248.705 108.54 243.895 108.298 242.446L109.153 242.36C109.338 243.627 109.885 248.113 112.72 250.081Z" fill="white"/>
<path d="M120.58 239.464C120.457 243.513 120.249 248.615 115.052 250.868C114.878 250.551 114.654 250.264 114.39 250.017C119.437 247.963 119.5 243.169 119.6 239.464H120.58ZM126.045 243.159V244.175H114.565V243.159H126.045ZM125.316 239.07V240.089H115.36V239.07H125.316ZM121.421 243.967V248.929C121.421 249.432 121.547 249.528 122.206 249.528H124.439C125.068 249.528 125.167 249.197 125.23 247.315C125.507 247.52 125.821 247.67 126.154 247.758C126.028 249.968 125.73 250.547 124.498 250.547H122.107C120.782 250.547 120.424 250.189 120.424 248.929V243.967H121.421Z" fill="white"/>
<path d="M130.294 242.456V243.448H128.002V242.456H130.294ZM129.383 238.516C130.099 239.143 130.758 239.832 131.351 240.577L130.688 241.334C130.107 240.558 129.459 239.833 128.754 239.167L129.383 238.516ZM129.353 249.499C129.509 249.379 129.633 249.223 129.715 249.044C129.796 248.865 129.834 248.67 129.824 248.474V242.456H130.754V249.403C130.754 249.403 129.86 250.065 129.86 250.452C129.729 250.116 129.559 249.796 129.353 249.499ZM129.708 249.499L129.993 249.066L132.152 247.527C132.218 247.822 132.306 248.112 132.414 248.394C130.364 249.939 130.042 250.204 129.86 250.455L129.708 249.499ZM136.309 244.345C136.137 247.775 135.57 249.81 132.288 250.869C132.159 250.561 131.976 250.279 131.748 250.035C134.815 249.139 135.246 247.388 135.391 244.345H136.309ZM139.724 246.227V247.157H132.106V246.227H139.724ZM139.233 243.772V244.709H132.546V243.772H139.233ZM138.866 238.787V242.532H132.904V238.787H138.866ZM133.795 241.615H137.928V239.687H133.795V241.615ZM139.796 250.025C139.541 250.281 139.332 250.579 139.177 250.905C137.322 250.283 136.067 248.92 135.434 246.991L136.262 246.77C136.527 247.569 136.991 248.288 137.612 248.858C138.233 249.428 138.99 249.83 139.81 250.025H139.796Z" fill="white"/>
<path d="M266.912 228H173.97C171.777 228 170 229.777 170 231.97V257.03C170 259.223 171.777 261 173.97 261H266.912C269.105 261 270.882 259.223 270.882 257.03V231.97C270.882 229.777 269.105 228 266.912 228Z" fill="#50744E"  @click="cancelSecond"/>
<path d="M191.329 239.747C189.724 241.94 187.077 243.621 184.553 244.673C184.362 244.339 184.141 244.023 183.892 243.73C186.419 242.846 188.983 241.265 190.412 239.297L191.329 239.747ZM195.351 238.906V239.899H184.272V238.906H195.351ZM194.028 245.615V250.809H192.999V246.535H186.661V250.836H185.668V245.625L194.028 245.615ZM193.426 249.255V250.181H186.214V249.264L193.426 249.255ZM190.27 240.266V240.286V245.218H189.294V241.301L190.27 240.266ZM191.501 241.239C192.975 241.912 194.371 242.747 195.662 243.726L194.974 244.514C193.7 243.484 192.302 242.617 190.813 241.933L191.501 241.239Z" fill="white"/>
<path d="M198.818 246.398C199.864 245.928 200.429 245.23 200.429 244.185L200.191 243.024L200.883 244.069C200.806 244.176 200.704 244.262 200.585 244.32C200.467 244.377 200.336 244.405 200.205 244.4C200.074 244.407 199.944 244.385 199.823 244.337C199.701 244.289 199.592 244.215 199.501 244.121C199.411 244.027 199.342 243.915 199.299 243.791C199.256 243.668 199.24 243.537 199.252 243.407C199.243 243.277 199.261 243.146 199.306 243.023C199.351 242.901 199.422 242.789 199.513 242.695C199.604 242.602 199.714 242.528 199.835 242.48C199.957 242.432 200.087 242.409 200.218 242.415C200.929 242.415 201.309 243.04 201.309 244.009C201.321 244.698 201.113 245.372 200.717 245.935C200.32 246.498 199.755 246.921 199.103 247.142L198.818 246.398Z" fill="white"/>
<path d="M216.074 244.812V245.656H204.929V244.812H216.074ZM215.915 240.512V243.489H214.953V241.319H205.984V243.489H205.064V240.512H215.915ZM215.317 238.695V239.493H205.63V238.695H215.317ZM214.655 246.635V247.492H206.818V250.8H205.911V246.629L214.655 246.635ZM209.246 243.238L209.279 243.899C208.287 244.121 207.317 244.336 206.484 244.511L206.199 243.704C207.013 243.615 208.118 243.436 209.259 243.247L209.246 243.238ZM206.808 241.583C207.654 241.744 208.482 241.99 209.279 242.318L209.001 242.946C208.202 242.6 207.373 242.33 206.523 242.139L206.808 241.583ZM209.593 247.188V250.737H208.707V247.188H209.593ZM211.023 245.173C210.798 245.911 210.526 246.672 210.308 247.184L209.464 247.085C209.684 246.444 209.858 245.789 209.984 245.123L211.023 245.173ZM210.894 238.973V244.389H209.954V238.973H210.894ZM211.654 243.171C212.667 243.299 213.665 243.527 214.632 243.853L214.42 244.564C213.444 244.219 212.437 243.966 211.413 243.81L211.654 243.171ZM212.419 247.188V250.737H211.542V247.188H212.419ZM214.44 242.109C213.629 242.449 212.789 242.713 211.929 242.897L211.598 242.364C212.425 242.13 213.237 241.846 214.03 241.514L214.44 242.109ZM215.343 246.645V249.808C215.343 250.287 215.274 250.539 214.946 250.681C214.619 250.823 214.149 250.84 213.457 250.84C213.388 250.54 213.285 250.25 213.15 249.973C213.669 249.973 214.103 249.973 214.241 249.973C214.38 249.973 214.42 249.924 214.42 249.788V246.638L215.343 246.645Z" fill="white"/>
<path d="M227.686 245.499C226.538 249.078 223.799 250.411 218.658 250.848C218.579 250.527 218.451 250.22 218.277 249.938C223.213 249.607 225.728 248.426 226.76 245.214L227.686 245.499ZM229.714 246.028V246.911H218.317V246.028H229.714ZM229.502 238.727V239.643H218.512V238.727H229.502ZM228.966 240.821V244.404H219.154V240.821H228.966ZM222.39 244.562L223.346 244.801C222.703 246.125 221.927 247.381 221.03 248.549H219.918C220.897 247.322 221.726 245.984 222.39 244.562ZM220.673 247.871C223.676 248.351 226.631 249.093 229.506 250.087L228.622 250.832C226.684 250.031 223.418 249.177 219.922 248.555L220.673 247.871ZM220.054 243.57H228.02V241.691H220.054V243.57ZM222.909 239.081V243.914H221.999V239.081H222.909ZM225.886 239.081V243.914H224.98V239.081H225.886Z" fill="white"/>
<path d="M235.017 238.467C234.299 240.868 233.154 243.297 231.887 244.908C231.749 244.542 231.582 244.188 231.388 243.849C232.503 242.466 233.515 240.342 234.134 238.202L235.017 238.467ZM233.995 240.624L234.024 240.65V250.84H233.111V241.576L233.995 240.624ZM235.98 239.764V248.54H235.133V239.764H235.98ZM239.261 238.348C238.68 239.924 237.779 241.363 236.615 242.576C236.391 242.348 236.146 242.142 235.884 241.96C237.002 240.89 237.853 239.57 238.365 238.109L239.261 238.348ZM242.447 240.048C241.412 242.671 239.215 244.173 236.575 245.057C236.411 244.764 236.22 244.488 236.003 244.233C238.583 243.522 240.667 242.155 241.544 239.82L242.447 240.048ZM243.321 247.631C242.047 249.285 239.645 250.277 236.939 250.78C236.813 250.478 236.644 250.196 236.436 249.943C239.007 249.543 241.349 248.663 242.49 247.244L243.321 247.631ZM240.81 244.723C240.032 245.603 238.716 246.324 237.501 246.76C237.347 246.531 237.165 246.323 236.959 246.139C238.1 245.768 239.39 245.123 240.072 244.398L240.81 244.723ZM242.024 246.046C241.054 247.2 239.351 248.071 237.634 248.57C237.492 248.323 237.323 248.092 237.131 247.882C238.752 247.482 240.439 246.701 241.299 245.718L242.024 246.046ZM243.698 244.084C243.488 244.34 243.311 244.621 243.172 244.921C240.194 244.183 238.262 242.377 237.419 240.657L238.011 240.151C238.772 241.821 240.704 243.495 243.688 244.097L243.698 244.084ZM243.294 239.611V240.478H237.614L238.097 239.611H243.294Z" fill="white"/>
<path d="M245.432 249.097C245.624 249.005 245.832 248.826 245.832 248.317V243.046H246.798V249.332C246.798 249.332 245.805 249.799 245.805 250.182C245.731 249.805 245.605 249.44 245.432 249.097ZM250.192 239.086V244.069H246.05V243.046H249.236V240.109H245.66V239.086H250.192ZM245.693 249.147L246.14 248.7L250.179 247.135C250.195 247.469 250.235 247.8 250.298 248.128C246.58 249.676 246.107 249.924 245.812 250.192L245.693 249.147ZM256.038 241.382C255.35 246.17 253.881 249.117 250.576 250.894C250.423 250.558 250.23 250.243 250 249.954C253.137 248.422 254.473 245.653 255.049 241.247L256.038 241.382ZM253.246 238.302C252.753 240.87 251.922 243.305 250.841 244.896C250.611 244.63 250.364 244.38 250.1 244.148C251.158 242.712 251.883 240.453 252.303 238.117L253.246 238.302ZM257.04 249.905C256.781 250.163 256.559 250.456 256.379 250.775C253.616 249.243 252.197 245.935 251.449 241.733L252.296 241.558C252.945 245.395 254.384 248.601 257.04 249.905ZM256.835 240.678V241.654H251.856V240.684L256.835 240.678Z" fill="white"/>
</svg>



<!-- 
      <div class="absolute inset-0 bg-black/50"></div>
      <div class="relative z-10 bg-white rounded-xl px-6 py-5 w-[280px] text-center">
        <div class="text-sm text-gray-800 font-semibold">请再次确认信息无误</div>
        <div class="mt-2 text-xs text-gray-600">提交后将无法修改收件信息</div>
        <div class="mt-4 flex justify-center gap-3">
          <button type="button" class="rounded-md bg-[#9C7D5E] text-xs px-3 py-2 text-white" @click="confirmSecond">确认提交</button>
          <button type="button" class="rounded-md bg-[#50744E] text-xs px-3 py-2 text-white" @click="cancelSecond">返回修改</button>
        </div>
      </div> -->


    </div>


  </div>
</template>

<script setup lang="ts">
import { computed, onMounted, ref } from 'vue'
import { useRoute } from 'vue-router'
import Title from './title.vue'
import Logo from './logo.vue'

import fangxing from './fangxing.png'
import changxing from './changxing.png'

import one from './one.png'
import tow from './tow.png'
import te from  './te.png'


const cards = [one, tow, te]
const randomCard =cards[Math.floor(Math.random() * cards.length)]

const route = useRoute()
const level = computed(() => {
  const v = (route.query.level as string) || '二等奖'
  try { return decodeURIComponent(v) } catch { return v }
})
const desc = computed(() => {
  const v = (route.query.desc as string) || '蹬愉小程序德训鞋优惠券99元'
  try { return decodeURIComponent(v) } catch { return v }
})

const showDialog = ref(false)
const step = ref<'qrcode' | 'form'>('form')
const form = ref({ name: '', phone: '', address: '' })
const errors = ref<{ name?: string; phone?: string; address?: string }>({})
const showSecondConfirm = ref(false)

const resetState = () => {
  step.value = 'form'
  form.value = { name: '', phone: '', address: '' }
  errors.value = {}
  showSecondConfirm.value = false
}

const openDialog = () => {
  resetState()
  showDialog.value = true
}
const closeDialog = () => {
  showDialog.value = false
  resetState()
}
const toForm = () => {
  showDialog.value = false
  showSecondConfirm.value = false
  resetState()
}

const validateForm = (): boolean => {
  const currentErrors: { name?: string; phone?: string; address?: string } = {}
  if (!form.value.name) currentErrors.name = '请输入收件人'
  const phone = form.value.phone
  if (!phone) {
    currentErrors.phone = '请输入手机号码'
  } else if (!/^1[3-9]\d{9}$/.test(phone)) {
    currentErrors.phone = '请输入有效的手机号'
  }
  if (!form.value.address) currentErrors.address = '请输入收件地址'
  errors.value = currentErrors
  return Object.keys(currentErrors).length === 0
}

const confirmForm = () => {
  if (!validateForm()) return
  // TODO: 在此处提交表单到后端接口
  // 表单校验通过后，切换到二维码步骤，不关闭弹窗
  showSecondConfirm.value = true
}

const confirmSecond = () => {
  showSecondConfirm.value = false
  step.value = 'qrcode'
}

const cancelSecond = () => {
  showSecondConfirm.value = false
}

// 生成噪点图片的工具函数
function generateNoise(opacity: number = 0.06, size: number = 100): string {
  const canvas = document.createElement('canvas');
  canvas.width = size;
  canvas.height = size;
  const ctx = canvas.getContext('2d');
  if (!ctx) return '';

  const imageData = ctx.createImageData(size, size);
  const buffer = imageData.data;

  for (let i = 0; i < buffer.length; i += 4) {
    const value = Math.random() * 255;
    buffer[i] = value;     // R
    buffer[i + 1] = value; // G
    buffer[i + 2] = value; // B
    buffer[i + 3] = Math.floor(opacity * 255); // Alpha
  }

  ctx.putImageData(imageData, 0, 0);
  return canvas.toDataURL();
}

onMounted(() => {
  const targetDiv = document.querySelector('div.zaodian') as HTMLElement | null;
  if (targetDiv) {
    const noiseURL = generateNoise(0.08, 1000); // 不透明度 & 噪点尺寸
    targetDiv.style.backgroundImage = `url(${noiseURL})`;
    targetDiv.style.backgroundBlendMode = 'multiply';
    targetDiv.style.backgroundRepeat = 'repeat';
  }
})
</script>



<style scoped>
.cls-1 {
  fill: #fff;
}

.cls-2 {
  fill: none;
}

.cls-3 {
  fill: #ddcab5;
}

.cls-4 {
  fill: #50744e;
}

.cls-5 {
  clip-path: url(#clippath);
}

.cls-6 {
  fill: #9c7d5e;
}
</style>